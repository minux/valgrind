Summary: Valgrind Memory Debugger
Name: @PACKAGE@
Version: @VERSION@
Release: 1
Copyright: GPL
Group: Development/Debuggers
Packager: Jeremy Fitzhardinge <jeremy@goop.org>
Source: @PACKAGE@-@VERSION@.tar.bz2

Buildroot: %{_tmppath}/@PACKAGE@

%description 

Valgrind is a GPL'd system for debugging and profiling x86-Linux programs.
With the tools that come with Valgrind, you can automatically detect
many memory management and threading bugs, avoiding hours of frustrating
bug-hunting, making your programs more stable. You can also perform
detailed profiling to help speed up your programs.

The Valgrind distribution includes five tools: two memory error
detectors, a thread error detector, a cache profiler and a heap profiler.
Several other tools have been built with Valgrind.

%prep
%setup -n @PACKAGE@-@VERSION@

%build
./configure --prefix=/usr
make

%install
make install DESTDIR=$RPM_BUILD_ROOT

%files
%defattr(-,root,root)
/usr/include/valgrind/valgrind.h
/usr/include/valgrind/memcheck.h
#/usr/include/valgrind/helgrind.h
/usr/include/valgrind/pub_tool_aspacemgr.h  
/usr/include/valgrind/pub_tool_basics.h     
/usr/include/valgrind/pub_tool_basics_asm.h 
/usr/include/valgrind/pub_tool_cpuid.h      
/usr/include/valgrind/pub_tool_debuginfo.h  
/usr/include/valgrind/pub_tool_errormgr.h   
/usr/include/valgrind/pub_tool_execontext.h 
/usr/include/valgrind/pub_tool_hashtable.h  
/usr/include/valgrind/pub_tool_libcassert.h 
/usr/include/valgrind/pub_tool_libcbase.h   
/usr/include/valgrind/pub_tool_libcfile.h   
/usr/include/valgrind/pub_tool_libcmman.h   
/usr/include/valgrind/pub_tool_libcprint.h  
/usr/include/valgrind/pub_tool_libcproc.h   
/usr/include/valgrind/pub_tool_libcsignal.h 
/usr/include/valgrind/pub_tool_machine.h    
/usr/include/valgrind/pub_tool_mallocfree.h 
/usr/include/valgrind/pub_tool_options.h    
/usr/include/valgrind/pub_tool_profile.h
/usr/include/valgrind/pub_tool_redir.h
/usr/include/valgrind/pub_tool_replacemalloc.h
/usr/include/valgrind/pub_tool_signals.h
/usr/include/valgrind/pub_tool_skiplist.h
/usr/include/valgrind/pub_tool_stacktrace.h
/usr/include/valgrind/pub_tool_threadstate.h
/usr/include/valgrind/pub_tool_tooliface.h
/usr/include/valgrind/vki-amd64-linux.h
/usr/include/valgrind/vki-linux.h
/usr/include/valgrind/vki-ppc32-linux.h
/usr/include/valgrind/vki-x86-linux.h
/usr/include/valgrind/vki_posixtypes-amd64-linux.h
/usr/include/valgrind/vki_posixtypes-ppc32-linux.h
/usr/include/valgrind/vki_posixtypes-x86-linux.h
/usr/bin/valgrind
/usr/bin/cg_annotate
/usr/bin/valgrind-listener
/usr/lib/valgrind
/usr/lib/pkgconfig/valgrind.pc

%doc
/usr/share/doc/valgrind/*

%clean
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf ${RPM_BUILD_ROOT}
